<ion-content>
  <div class="page-wrapper">
    <!-- ðŸ”¥ Bagian Header Hijau -->
    <div class="top-section">
      <div class="header-content">
        <div>
          <!-- Menampilkan nama user dengan fallback 'Dulur' -->
          <h1>Hi, {{ user.nama || 'Dulur' }}!</h1>
          <p>Akses info terbaru, kirim laporan, dan kelola data warga Anda langsung dari sini.</p>
        </div>

        <!-- Avatar Profile -->
        <ion-avatar class="profile-avatar" (click)="openPopover($event)">
          <img [src]="user.foto || 'assets/img/default-profile.png'" alt="Foto profil pengguna" />
        </ion-avatar>
      </div>
    </div>

    <!-- ðŸ”¥ Popover -->
    <ion-popover
      [isOpen]="isPopoverOpen"
      [event]="popoverEvent"
      (didDismiss)="isPopoverOpen = false"
      cssClass="custom-popover"
    >
      <ng-template>
        <ion-list>
          <ion-item button (click)="goToProfile()">
            <ion-icon slot="start" name="person-circle-outline"></ion-icon>
            <ion-label>{{ user.nama || 'Pengguna' }}</ion-label>
          </ion-item>
          <ion-item button (click)="logout()">
            <ion-icon slot="start" name="log-out-outline"></ion-icon>
            <ion-label>Logout</ion-label>
          </ion-item>
        </ion-list>
      </ng-template>
    </ion-popover>

    <!-- ðŸ”¥ Judul -->
    <div class="section-title">
      <h2>Sadulur Application</h2>
    </div>

    <!-- ðŸ”¥ Banner scroll horizontal -->
    <div class="long-section horizontal-scroll">
      <ion-card><img src="assets/img/1.png" alt="" /></ion-card>
      <ion-card><img src="assets/img/2.png" alt="" /></ion-card>
      <ion-card><img src="assets/img/3.png" alt="" /></ion-card>
    </div>

    <!-- ðŸ”¥ Menu Utama -->
    <div class="section-title">
      <h2>Menu Utama</h2>
    </div>

    <div class="shortcut-section">
      <div class="shortcut-scroll">
        <ion-card button>
          <img src="assets/img/pengumuman.jpg" alt="" />
          <ion-card-header>
            <ion-card-title>LIHAT PENGUMUMAN</ion-card-title>
          </ion-card-header>
          <ion-card-content>Dapatkan info terbaru dari lingkungan Anda secara realtime.</ion-card-content>
        </ion-card>

        <ion-card button>
          <img src="assets/img/dokument.png" alt="" />
          <ion-card-header>
            <ion-card-title>BUAT LAPORAN</ion-card-title>
          </ion-card-header>
          <ion-card-content>Sampaikan keluhan atau laporan kejadian secara cepat dan mudah.</ion-card-content>
        </ion-card>

        <ion-card button>
          <img src="assets/img/alert.png" alt="" />
          <ion-card-header>
            <ion-card-title>KONTAK DARURAT</ion-card-title>
          </ion-card-header>
          <ion-card-content>Hubungi layanan darurat langsung dari aplikasi ini.</ion-card-content>
        </ion-card>
      </div>
    </div>

    <!-- ðŸ”¥ Program Section -->
    <div class="section-title">
      <h2>Berbagai Program</h2>
    </div>

    <div class="program-section">
      <!-- Laporan -->
      <ion-card class="program-card">
        <div class="program-inner">
          <div class="icon-box">
            <img src="assets/img/dokument.png" alt="E-learning" />
          </div>
          <div class="content-box">
            <ion-card-header>
              <ion-card-title>Ajukan Laporan</ion-card-title>
              <ion-card-subtitle>Sampaikan keluhan, aspirasi, atau laporan gangguan dengan mudah</ion-card-subtitle>
            </ion-card-header>
            <ion-card-content>
              <ul>
                <li>Pilih jenis laporan: Keluhan, Aspirasi, atau Gangguan</li>
                <li>Tulis deskripsi masalah atau saran dengan jelas</li>
                <li>Kirim laporan untuk segera ditindaklanjuti</li>
              </ul>
              <ion-button size="small" color="success" [routerLink]="['/laporan']">Buat Laporan</ion-button>
            </ion-card-content>
          </div>
        </div>
      </ion-card>

      <!-- Pengumuman -->
      <ion-card class="program-card">
        <div class="program-inner">
          <div class="icon-box">
            <img src="assets/img/alert.png" alt="Pengumuman" />
          </div>
          <div class="content-box">
            <ion-card-header>
              <ion-card-title>Pengumuman</ion-card-title>
              <ion-card-subtitle>Informasi terbaru dan feedback dari admin terkait laporan Anda</ion-card-subtitle>
            </ion-card-header>
            <ion-card-content>
              <ul>
                <li>Lihat status laporan Anda: diterima, diproses, atau selesai</li>
                <li>Dapatkan pemberitahuan resmi dari admin mengenai tindak lanjut</li>
                <li>Informasi umum atau pengumuman penting juga ditampilkan di sini</li>
              </ul>
              <ion-button size="small" color="success" [routerLink]="['/pengumuman']">Lihat Pengumuman</ion-button>
            </ion-card-content>
          </div>
        </div>
      </ion-card>

      <!-- Telepon Darurat -->
      <ion-card class="program-card">
        <div class="program-inner">
          <div class="icon-box">
            <img src="assets/img/telepon.jpg" alt="Telepon Darurat" />
          </div>
          <div class="content-box">
            <ion-card-header>
              <ion-card-title>Telepon Darurat</ion-card-title>
              <ion-card-subtitle>Hubungi layanan darurat dengan cepat dan mudah</ion-card-subtitle>
            </ion-card-header>
            <ion-card-content>
              <ul>
                <li>Polisi: 110</li>
                <li>Pemadam Kebakaran: 113</li>
                <li>Ambulans / Rumah Sakit: 118 / 119</li>
                <li>Kontak Admin / Helpdesk aplikasi</li>
              </ul>
              <ion-button size="small" color="success" [routerLink]="['/telepon']">Hubungi Sekarang</ion-button>
            </ion-card-content>
          </div>
        </div>
      </ion-card>
    </div>
  </div>
</ion-content>
